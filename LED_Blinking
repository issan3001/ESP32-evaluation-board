#include <Arduino.h>

// --- ピンの番号 ---
#define LED_R     15
#define LED_G     2
#define LED_B     4
#define SWITCH_1  26
#define SWITCH_2  27
#define SWITCH_3  14
#define SWITCH_4  12


int speed = 400;      // 点滅時間

int colorMode = 0;
unsigned long previousMillis = 0;
bool ledState = LOW;

void setup() {
  pinMode(LED_R, OUTPUT);
  pinMode(LED_G, OUTPUT);
  pinMode(LED_B, OUTPUT);
  pinMode(SWITCH_1, INPUT_PULLUP);
  pinMode(SWITCH_2, INPUT_PULLUP);
  pinMode(SWITCH_3, INPUT_PULLUP);
  pinMode(SWITCH_4, INPUT_PULLUP);
}

void loop() {
  // --- ボタン入力 ---
  if (digitalRead(SWITCH_1) == LOW) colorMode = 1; 
  if (digitalRead(SWITCH_2) == LOW) colorMode = 2; 
  if (digitalRead(SWITCH_3) == LOW) colorMode = 3; 
  if (digitalRead(SWITCH_4) == LOW) colorMode = 0; // 消す

  // --- 点滅のタイマー ---
  unsigned long currentMillis = millis();
  if (currentMillis - previousMillis >= speed) {
    previousMillis = currentMillis;
    ledState = !ledState;
  }

  // --- LEDの明るさ・色を変える ---   max_255
  if (ledState == HIGH) {
    switch (colorMode) {
      case 1: // ★ボタン1
        analogWrite(LED_R, 255); 
        analogWrite(LED_G, 0); 
        analogWrite(LED_B, 0);   
        break;

      case 2: // ★ボタン2
        analogWrite(LED_R, 0); 
        analogWrite(LED_G, 255); 
        analogWrite(LED_B, 0); 
        break;

      case 3: // ★ボタン3
        analogWrite(LED_R, 0); 
        analogWrite(LED_G, 0); 
        analogWrite(LED_B, 255); 
        break;

      default: // 消灯
        analogWrite(LED_R, 0); 
        analogWrite(LED_G, 0); 
        analogWrite(LED_B, 0); 
        break;
    }
  } else {
    // 消灯時間は全部 0
    analogWrite(LED_R, 0); 
    analogWrite(LED_G, 0); 
    analogWrite(LED_B, 0);
  }
}